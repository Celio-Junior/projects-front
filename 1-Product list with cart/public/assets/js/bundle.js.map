{"version":3,"file":"bundle.js","mappings":";;;;;;;;;;AAAa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA,8CAA8C,UAAU;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,YAAY;;;;;;;;;;;AClCC;AACb;AACA,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,gBAAgB;AAChB,uCAAuC,mBAAO,CAAC,oEAA4B;AAC3E,uCAAuC,mBAAO,CAAC,oEAA4B;AAC3E,kBAAkB,mBAAO,CAAC,2CAAW;AACrC,wCAAwC,mBAAO,CAAC,sEAA6B;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,sCAAsC,8BAA8B;AACpE;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,SAAS;AACvD;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,sCAAsC,8BAA8B;AACpE;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,uCAAuC,wBAAwB;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,wBAAwB;AAC/D;AACA;AACA,gBAAgB,+BAA+B;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;;;;;;;;;;;ACtLH;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;;;;;;;;;;;ACbF;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kBAAe;AACf;AACA,2CAA2C,KAAK;AAChD;AACA,0CAA0C,SAAS;AACnD,mDAAmD,MAAM;AACzD,qDAAqD,MAAM;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACfa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kBAAe;AACf;AACA;AACA,wBAAwB,MAAM,eAAe,KAAK;AAClD;;AAEA;AACA,2CAA2C,KAAK;AAChD;AACA,4CAA4C,SAAS;AACrD,qDAAqD,MAAM;AAC3D,uDAAuD,MAAM;AAC7D;AACA;AACA;;;;;;;;;;;AChBa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA,8BAA8B,kBAAkB;AAChD,8BAA8B,kBAAkB;AAChD,wBAAwB,mBAAmB,eAAe,KAAK;AAC/D;AACA;AACA,oDAAoD,KAAK;AACzD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qCAAqC,SAAS;AAC9C,uCAAuC,KAAK;AAC5C,kCAAkC,iBAAiB;AACnD;AACA;AACA,kBAAe;AACf;AACA;AACA;;;;;;;UCxCA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;;;;;;ACtBa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,eAAe,mBAAO,CAAC,6CAAgB;AACvC,mBAAmB,mBAAO,CAAC,qDAAoB;AAC/C;AACA;AACA","sources":["webpack://1-product-list-with-cart/./src/classes/Cart.ts","webpack://1-product-list-with-cart/./src/classes/Desserts.ts","webpack://1-product-list-with-cart/./src/classes/Product.ts","webpack://1-product-list-with-cart/./src/components/product-card.ts","webpack://1-product-list-with-cart/./src/components/product-order.ts","webpack://1-product-list-with-cart/./src/components/product-view.ts","webpack://1-product-list-with-cart/webpack/bootstrap","webpack://1-product-list-with-cart/./src/main.ts"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Cart = void 0;\nclass Cart {\n    constructor() {\n        this.products = [];\n    }\n    quantityAll() {\n        return this.products.reduce((total, { quantity }) => total + quantity, 0);\n    }\n    add(productDessert) {\n        this.products.push(productDessert);\n    }\n    ModifyQuatityProduct(product, mode) {\n        return this.products.reduce((isExistProduct, productOrigin) => {\n            if (productOrigin.name === product) {\n                const qtd = mode === \"+\"\n                    ? productOrigin.quantity + 1\n                    : productOrigin.quantity - 1;\n                if (qtd > 0) {\n                    productOrigin.quantity = qtd;\n                }\n                isExistProduct = productOrigin.quantity;\n            }\n            return isExistProduct;\n        }, 0);\n    }\n    total() {\n        return this.products.reduce((total, product) => {\n            total += product.total;\n            return total;\n        }, 0);\n    }\n}\nexports.Cart = Cart;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Desserts = void 0;\nconst product_view_1 = __importDefault(require(\"../components/product-view\"));\nconst product_card_1 = __importDefault(require(\"../components/product-card\"));\nconst Product_1 = require(\"./Product\");\nconst product_order_1 = __importDefault(require(\"../components/product-order\"));\nconst eleAmountCart = document.querySelector(\"#products-amount\");\nconst eleProductsDesserts = document.querySelector(\".products\");\nconst productsAccount = document.querySelector(\"#products-account\");\nconst productsOrderElement = document.querySelector(\"#products-order\");\nconst eleImgEmpty = document.querySelector(\"#img-empty-itens\");\nclass Desserts {\n    constructor(cart) {\n        this.cart = cart;\n        this.deserrts = [];\n        this.pathDb = \"./assets/database/data.json\";\n    }\n    init() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.loadingDesserts();\n            this.dessertAdd();\n            this.removeElementDessert();\n            this.buttonBuyEvent();\n        });\n    }\n    loadingDesserts() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const response = yield fetch(this.pathDb);\n            this.deserrts = yield response.json();\n            this.deserrts.forEach((dessertDate) => {\n                this.createElementDessert(dessertDate);\n            });\n        });\n    }\n    dessertsCartConfirmed() {\n        this.cart.products.forEach(({ name, price, total, quantity }) => {\n            const eleProductOrder = document.createElement(\"div\");\n            eleProductOrder.classList.add(\"card-order\");\n            const productSearched = this.deserrts.find((product) => product.name === name);\n            eleProductOrder.innerHTML = (0, product_order_1.default)(name, price, total, quantity, productSearched.image.thumbnail);\n            productsOrderElement.append(eleProductOrder);\n        });\n    }\n    buttonBuyEvent() {\n        const buttonBuyElement = document.querySelector(\".button-buy\");\n        const buttonConfirmedElement = document.querySelector(\".button-confimed-order\");\n        const orderElement = document.querySelector(\".black-box\");\n        buttonBuyElement.addEventListener(\"click\", () => {\n            orderElement.classList.remove(\"no-exist\");\n            this.dessertsCartConfirmed();\n        });\n        buttonConfirmedElement.addEventListener(\"click\", () => {\n            alert(\"Compra foi concluida\");\n            window.location.reload();\n        });\n    }\n    addItem(button) {\n        button.addEventListener(\"click\", () => {\n            var _a;\n            const productDessertFather = button.closest(\".product-dessert\");\n            const productSearched = this.deserrts.find((product) => {\n                var _a;\n                return product.name ===\n                    ((_a = button.closest(\".button-add\")) === null || _a === void 0 ? void 0 : _a.getAttribute(\"data-name\"));\n            });\n            if (!productSearched)\n                return;\n            const cardImg = productDessertFather.querySelector(\".card-img\");\n            cardImg.classList.add(\"product-dessert-border\");\n            this.cart.add(new Product_1.Product(productSearched.name, productSearched.price));\n            button.classList.add(\"no-exist\");\n            (_a = button.nextElementSibling) === null || _a === void 0 ? void 0 : _a.classList.remove(\"no-exist\");\n            this.updateCart();\n        });\n    }\n    increItem(button) {\n        const eleSvgs = button.querySelectorAll(\".replace-img-svg\");\n        const elePrice = button.querySelector(\".quantity-of-product\");\n        eleSvgs.forEach((buttonQtd, i) => {\n            buttonQtd.addEventListener(\"click\", () => {\n                const buttonDiv = button.closest(\".button-add\");\n                const productSearched = this.deserrts.find((product) => product.name === buttonDiv.getAttribute(\"data-name\"));\n                if (productSearched) {\n                    const quantity = i === 0\n                        ? this.cart.ModifyQuatityProduct(productSearched.name, \"-\")\n                        : this.cart.ModifyQuatityProduct(productSearched.name, \"+\");\n                    elePrice.textContent = `${quantity}`;\n                }\n                this.updateCart();\n            });\n        });\n    }\n    dessertAdd() {\n        const allElementButton = document.querySelectorAll(\".button-add\");\n        allElementButton.forEach((buttons) => {\n            const buttonAdd = buttons.children[0];\n            if (buttonAdd.classList.contains(\"button-dessert\"))\n                this.addItem(buttonAdd);\n            const buttonIncr = buttons.children[1];\n            if (buttonIncr.classList.contains(\"button-incremented\")) {\n                this.increItem(buttonIncr);\n            }\n        });\n    }\n    updateCart() {\n        const totalBuy = document.querySelectorAll(\".price-total\");\n        this.checkCartEmpty();\n        productsAccount.innerHTML = \"\";\n        this.cart.products.forEach(({ name, price, total, quantity }) => {\n            const eleProductFinal = document.createElement(\"div\");\n            eleProductFinal.classList.add(\"card-product\");\n            eleProductFinal.setAttribute(\"data-name\", name);\n            eleProductFinal.innerHTML = (0, product_card_1.default)(name, price, total, quantity);\n            productsAccount.append(eleProductFinal);\n        });\n        eleAmountCart.textContent = `${this.cart.quantityAll()}`;\n        totalBuy.forEach((element) => (element.innerHTML = this.cart.total().toFixed(2).toString()));\n    }\n    removeElementDessert() {\n        productsAccount.addEventListener(\"click\", (e) => {\n            const button = e.target;\n            if (button.classList.contains(\"button-remove\") ||\n                button.closest(\".button-remove\")) {\n                const productCard = button.closest(\".card-product\");\n                const name = productCard.getAttribute(\"data-name\");\n                const productSearched = this.deserrts.findIndex((product) => product.name === name);\n                if (productSearched === -1)\n                    return;\n                const indiceDelete = this.cart.products.findIndex((i) => i.name === name);\n                const productsElement = eleProductsDesserts.querySelectorAll(\".product-dessert\");\n                productsElement.forEach((element) => {\n                    var _a;\n                    const cardImgElement = element.querySelector(\".product-name\");\n                    const buttonElement = element.querySelector(\".button-incremented\");\n                    if (cardImgElement.textContent === name) {\n                        const cardImg = element.querySelector(\".card-img\");\n                        cardImg.classList.remove(\"product-dessert-border\");\n                        buttonElement.classList.add(\"no-exist\");\n                        (_a = buttonElement.previousElementSibling) === null || _a === void 0 ? void 0 : _a.classList.remove(\"no-exist\");\n                    }\n                });\n                this.removeProducts(indiceDelete);\n                this.updateCart();\n            }\n        });\n    }\n    checkCartEmpty() {\n        const valueQtdCart = this.cart.quantityAll();\n        if (valueQtdCart > 1)\n            return;\n        if (this.cart.quantityAll() !== 0) {\n            eleImgEmpty.classList.add(\"no-exist\");\n        }\n        else {\n            eleImgEmpty.classList.remove(\"no-exist\");\n        }\n    }\n    removeProducts(indice) {\n        this.cart.products.splice(indice, 1);\n        eleAmountCart.textContent = `${this.cart.quantityAll()}`;\n    }\n    createElementDessert(date) {\n        const { image, name, category, price } = date;\n        const article = document.createElement(\"article\");\n        article.classList.add(\"product-dessert\");\n        article.innerHTML = (0, product_view_1.default)(image, name, category, price.toString());\n        eleProductsDesserts.appendChild(article);\n    }\n}\nexports.Desserts = Desserts;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Product = void 0;\nclass Product {\n    constructor(name, priceUni) {\n        this.quantity = 1;\n        this.name = name;\n        this.price = priceUni;\n    }\n    get total() {\n        return this.price * this.quantity;\n    }\n}\nexports.Product = Product;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = ProductCard;\nfunction ProductCard(name, price, total, quantity) {\n    return `<strong class=\"product-name\">${name}</strong>\n          <div class=\"description-item\">\n            <span aria-label=\"quantity\">${quantity}</span>\n            <span aria-label=\"price-uni-product\">${price}</span>\n            <span aria-label=\"price-total-product\">${total}</span>\n          </div>\n          <svg class=\"button-remove\" viewBox=\"0 0 30 30\">\n            <circle cx=\"15\" cy=\"15\" r=\"10\"/>\n            <line x1=\"10\" y1=\"20\" x2=\"20\" y2=\"10\" />\n            <line x1=\"10\" y1=\"10\" x2=\"20\" y2=\"20\" />\n          </svg>`;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = ProductOrder;\nfunction ProductOrder(name, price, total, quantity, image) {\n    return ` <div class=\"img-tumbnail\">\n            <img src=\"${image}\" alt=\"teste ${name}\">\n          </div>\n\n          <div class=\"description-item\">\n            <strong class=\"product-name\">${name}</strong>\n            <div class=\"description-price-item\">\n              <span aria-label=\"quantity\">${quantity}</span>\n              <span aria-label=\"price-uni-product\">${price}</span>\n              <span aria-label=\"price-total-product\">${total}</span>\n            </div>\n          </div>`;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst productCard = (imgDesktop, name, category, price) => {\n    return `<header class=\"product-header\">\n            <div class=\"card-img\">\n            <picture>\n            <source srcset=\"${imgDesktop.mobile}\" media=\"(max-width: 400px)\">\n            <source srcset=\"${imgDesktop.tablet}\" media=\"(max-width: 750px)\">\n            <img src=\"${imgDesktop.desktop}\" alt=\"image ${name}\">\n              </picture>\n            </div>\n            <button class=\"button-add\" data-name=\"${name}\">\n              <div class=\"button-dessert\">\n                <img src=\"./assets/images/icon-add-to-cart.svg\" alt=\"icon cart\">\n                Add to Cart\n              </div>\n\n              <div class=\"button-incremented no-exist\">\n                <div class=\"replace-img-svg\">\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"10\" height=\"2\" fill=\"none\" viewBox=\"0 0 10 2\"><path fill=\"#fff\" d=\"M0 .375h10v1.25H0V.375Z\"/></svg>\n                </div>\n\n                <span class=\"quantity-of-product\">1</span>\n\n                <div class=\"replace-img-svg\">\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"10\" height=\"10\" fill=\"none\" viewBox=\"0 0 10 10\"><path fill=\"#fff\" d=\"M10 4.375H5.625V0h-1.25v4.375H0v1.25h4.375V10h1.25V5.625H10v-1.25Z\"/></svg>\n                </div>\n              </div>\n            </button>\n          </header>\n\n          <div class=\"description\">\n            <span class=\"category\">${category}</span>\n            <h3 class=\"product-name\">${name}</h3>\n            <span class=\"price\">${zeroRight(price)}</span>\n          </div>`;\n};\nexports.default = productCard;\nfunction zeroRight(number) {\n    return number.length > 1 ? number.padEnd(4, \"0\") : number + \".00\";\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Cart_1 = require(\"./classes/Cart\");\nconst Desserts_1 = require(\"./classes/Desserts\");\nconst cart = new Cart_1.Cart();\nconst desserts = new Desserts_1.Desserts(cart);\ndesserts.init();\n"],"names":[],"sourceRoot":""}